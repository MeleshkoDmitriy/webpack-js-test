(()=>{"use strict";const e=()=>{const n=+prompt("Enter number of digits");if(Number.isNaN(n)||n<2||n>9)return alert("Enter number between 2 and 9 inclusively"),void e();let l=[];const r=[1,2,3,4,5,6,7,8,9];for(let e=0;e<n;e++){const e=r.splice(-10*+Math.random().toFixed(1),1)[0];l.push(e)}const o=document.getElementById("guess"),u=document.getElementById("guessBtn"),d=document.getElementById("history"),i=document.getElementById("score"),c=document.getElementById("highscore");let s=[];const a=localStorage.getItem("highScore");a&&(c.innerText=a);let m=1e3*n;i.innerText=m,u.addEventListener("click",(()=>{if(+o.value.length==+n&&o.value.match(/\d/)&&!o.value.match(/0/)&&(e=>{let t=`${e}`.split(""),n=[];for(let e=0;e<t.length;e++){if(n.includes(t[e]))return!1;n.push(t[e])}return!0})(+o.value)){const e=document.createElement("tr"),n=document.createElement("td"),r=document.createElement("td"),[u,c]=t(l,[...o.value]);s.includes(o.value)?alert("This number already used"):(m>10*s.length&&(m-=10*s.length),i.innerText=m,s.push(o.value),n.innerText=o.value,r.innerText=`${u}J${c}S`,e.appendChild(n),e.appendChild(r),d.appendChild(e),o.value="")}else alert(`You should enter number with ${n} unique non-zero digits!`)}))},t=(e,t)=>{let n=0,l=0;for(let r=0;r<e.length;r++)+e[r]!=+t[r]?e.includes(+t[r])&&n++:l++;if(l===e.length){const e=document.getElementById("score");localStorage.setItem("highScore",+e.innerText),alert("You win!"),location.reload()}return[n,l]};e()})();